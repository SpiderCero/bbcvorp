$engine: 3
$onesync: on
$steamRequired: true

name: BCC_VORP_Official
author: SpiderCero
description: Receta oficial de BCC + VORP + extras basada en vorp_recipe

variables:
  steam_webApiKey: "none"

tasks:
  # -----------------------------
  # ðŸ“‚ CONFIGURACIÃ“N SERVER.CFG
  # -----------------------------
  - action: write_file
    path: ./server.cfg
    contents: |
      endpoint_add_tcp "0.0.0.0:30120"
      endpoint_add_udp "0.0.0.0:30120"
      sv_maxclients 48
      set gamename rdr3
      set sv_enforceGameBuild 1491

      sv_licenseKey "TU_LICENSE_KEY_AQUI"
      set steam_webApiKey "${steam_webApiKey}"

      sv_hostname "La Pradera RP | BCC+VORP"
      sets sv_projectName "La Pradera RP"
      sets sv_projectDesc "Servidor Roleplay con BCC + VORP"
      sets locale "es-ES"
      sets tags "roleplay, bcc, vorp, redm"

      load_server_icon icon.png
      sv_scriptHookAllowed 0
      sv_endpointprivacy true

      ensure mapmanager
      ensure chat
      ensure spawnmanager
      ensure sessionmanager
      ensure hardcap

  # -----------------------------
  # ðŸ“‚ VORP CORE + EXTRAS
  # -----------------------------
  - action: download_github
    src: https://github.com/VORPCORE/vorp_core
    ref: main
    dest: ./temp/[vorp]/vorp_core

  - action: download_github
    src: https://github.com/VORPCORE/vorp_inventory
    ref: main
    dest: ./temp/[vorp]/vorp_inventory

  - action: download_github
    src: https://github.com/VORPCORE/vorp_wildhorse
    ref: main
    dest: ./temp/[vorp]/vorp_wildhorse

  - action: download_github
    src: https://github.com/KorsyScript/ks_multijob
    ref: main
    dest: ./temp/[vorp]/ks_multijob

  # -----------------------------
  # ðŸ“‚ BCC SCRIPTS
  # -----------------------------
  - action: download_github
    src: https://github.com/BryceCanyonCounty/bcc-utils
    ref: main
    dest: ./temp/[bcc]/bcc-utils

  - action: download_github
    src: https://github.com/BryceCanyonCounty/bcc-acidtrip
    ref: main
    dest: ./temp/[bcc]/bcc-acidtrip

  - action: download_github
    src: https://github.com/BryceCanyonCounty/bcc-ai
    ref: main
    dest: ./temp/[bcc]/bcc-ai

  - action: download_github
    src: https://github.com/BryceCanyonCounty/bcc-farming
    ref: main
    dest: ./temp/[bcc]/bcc-farming

  - action: download_github
    src: https://github.com/BryceCanyonCounty/bcc-banks
    ref: main
    dest: ./temp/[bcc]/bcc-banks

  - action: download_github
    src: https://github.com/BryceCanyonCounty/bcc-stables
    ref: main
    dest: ./temp/[bcc]/bcc-stables

  - action: download_github
    src: https://github.com/BryceCanyonCounty/bcc-shops
    ref: main
    dest: ./temp/[bcc]/bcc-shops

  - action: download_github
    src: https://github.com/BryceCanyonCounty/bcc-law
    ref: main
    dest: ./temp/[bcc]/bcc-law

  - action: download_github
    src: https://github.com/BryceCanyonCounty/bcc-medical
    ref: main
    dest: ./temp/[bcc]/bcc-medical

  - action: download_github
    src: https://github.com/BryceCanyonCounty/bcc-job-alerts
    ref: main
    dest: ./temp/[bcc]/bcc-job-alerts

  - action: download_github
    src: https://github.com/BryceCanyonCounty/bcc-loadscreen
    ref: main
    dest: ./temp/[bcc]/bcc-loadscreen

  - action: download_github
    src: https://github.com/BryceCanyonCounty/bcc-mailbox
    ref: main
    dest: ./temp/[bcc]/bcc-mailbox

  # -----------------------------
  # ðŸ“‚ MOVER Y LIMPIAR
  # -----------------------------
  - action: move_path
    src: ./temp/[vorp]
    dest: ./resources/[vorp]

  - action: move_path
    src: ./temp/[bcc]
    dest: ./resources/[bcc]

  - action: remove_path
    path: ./temp

  - action: remove_path
    path: ./tmp
